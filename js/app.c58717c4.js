"use strict";(self.webpackChunkwebpack5_vue2_x_template=self.webpackChunkwebpack5_vue2_x_template||[]).push([[524],{8519:function(e,t,n){var a=n(2893),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isLoggedIn?t("div",{staticClass:"app-layout"},[t("Sidebar",{staticClass:"sidebar"}),e._v(" "),t("div",{staticClass:"main-content"},[t("Navbar"),e._v(" "),t("el-main",[t("router-view")],1)],1)],1):t("router-view")],1)};r._withStripped=!0;var s=n(5353),o=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar"},[t("div",{staticClass:"breadcrumb"},[e._v("\n    "+e._s(e.currentRoute)+"\n  ")]),e._v(" "),t("div",{staticClass:"user-info"},[e._v("\n    Welcome, "+e._s(e.username)+"\n    "),t("button",{on:{click:e.logout}},[e._v("Logout")])])])};o._withStripped=!0;var u={name:"Navbar",computed:{currentRoute(){return this.$route.name},username(){return this.$store.state.user.username}},methods:{logout(){this.$store.dispatch("user/logout"),this.$router.push("/login")}}},i=n(4486),c=(0,i.A)(u,o,[],!1,null,"5fc09b4e",null).exports,l=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"sidebar"},[e._m(0),e._v(" "),t("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":e.routes[0].path,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF",router:""}},e._l(e.routes,(function(n,a){return t("el-menu-item",{key:a,attrs:{index:n.path}},[t("i",{class:n.meta?.icon||"el-icon-menu"}),e._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.meta?.title||n.name))])])})),1)],1)};l._withStripped=!0;var m={name:"Sidebar",computed:{routes(){return this.$router.options.routes.filter((e=>e.name&&!e.meta?.hideInNav))}}},d={name:"App",components:{Navbar:c,Sidebar:(0,i.A)(m,l,[function(){var e=this._self._c;return e("div",{staticClass:"logo"},[e("h1",[this._v("Admin Panel")])])}],!1,null,"731d10dd",null).exports},computed:{...(0,s.L8)("user",["isLoggedIn"])}},p=(0,i.A)(d,r,[],!1,null,null,null).exports,h=n(173);const v={token:localStorage.getItem("token")||"",user:JSON.parse(localStorage.getItem("user"))||null},_={SET_TOKEN(e,t){e.token=t},SET_USER(e,t){e.user=t}},b={async login({commit:e},t){try{const{token:n,user:a}=await function(e){return new Promise(((t,n)=>{setTimeout((()=>{const a=[{username:"admin",password:"admin@123"},{username:"user",password:"user@123"}].find((t=>t.username===e.username&&t.password===e.password));a?t({token:"mock_token_"+Date.now(),user:{id:"admin"===a.username?1:2,username:a.username}}):n(new Error("Invalid username or password"))}),1e3)}))}(t);return localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(a)),e("SET_TOKEN",n),e("SET_USER",a),!0}catch(e){return!1}},async logout({commit:e}){try{await new Promise((e=>{setTimeout(e,500)})),localStorage.removeItem("token"),localStorage.removeItem("user"),e("SET_TOKEN",""),e("SET_USER",null)}catch(e){}}};var g={namespaced:!0,state:v,mutations:_,actions:b,getters:{isLoggedIn:e=>!!e.token,currentUser:e=>e.user}};a.default.use(s.Ay);var f=new s.Ay.Store({modules:{user:g}});const S=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"Dashboard",component:()=>n.e(187).then(n.bind(n,9187)),meta:{requiresAuth:!0,icon:"el-icon-menu"}},{path:"/login",name:"Login",component:()=>n.e(257).then(n.bind(n,2257)),meta:{fullScreen:!0,hideInNav:!0}},{path:"/users",name:"UserList",component:()=>n.e(889).then(n.bind(n,5889)),meta:{icon:"el-icon-user"}},{path:"/home",name:"Home1111",component:()=>n.e(997).then(n.bind(n,4997)),meta:{title:"Home",icon:"el-icon-s-home"}},{path:"*",component:()=>n.e(616).then(n.bind(n,5616))}];a.default.use(h.Ay);const w=new h.Ay({mode:"hash",base:"/webpack5-vue2.x-template/",routes:S});w.beforeEach(((e,t,n)=>{const a=f.getters["user/isLoggedIn"];e.matched.some((e=>e.meta.requiresAuth))?a?n():n({name:"Login",query:{redirect:e.fullPath}}):e.matched.some((e=>e.meta.requiresGuest))&&a?n({name:"Home"}):n()}));var k=w,E=n(1052),I=n.n(E);a.default.use(I()),a.default.config.productionTip=!1,new a.default({router:k,store:f,render:e=>e(p)}).$mount("#app")}},function(e){e.O(0,[215,159],(function(){return t=8519,e(e.s=t);var t}));e.O()}]);